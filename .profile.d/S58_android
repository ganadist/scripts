ANDROID_HOME=${HOME}/src/work/tools/adt-bundle-linux-x86_64/sdk
ANDROID_NDK_ROOT=${ANDROID_HOME}/ndk-bundle
ANDROID_NDK_HOME=$ANDROID_NDK_ROOT
ANDROID_EMULATOR_USE_SYSTEM_LIBS=1

if [ -d /usr/lib/jvm/java-8-openjdk-amd64 ]; then
  # ubuntu
  STUDIO_JDK=/usr/lib/jvm/java-8-openjdk-amd64
else
  # archlinux
  STUDIO_JDK=/usr/lib/jvm/java-8-jdk
fi

find_studio_properties() {
  local VER=(1.5 2.0 2.1)
  local PLATFORM=(.AndroidStudio .AndroidStudioPreview)
  local STUDIO_HOME P V
  for P in ${PLATFORM[@]}
  do
    for V in ${VER[@]}
    do
      STUDIO_HOME=${P}${V}
      STUDIO_PROPERTIES="$HOME/$STUDIO_HOME/idea.properties"
      [ -f ${STUDIO_PROPERTIES} ] && export STUDIO_PROPERTIES && break
      unset STUDIO_PROPERTIES
    done
  done
}

#IBUS_ENABLE_SYNC_MODE=1

find_studio_properties

export ANDROID_HOME ANDROID_NDK_ROOT ANDROID_NDK_HOME STUDIO_JDK
export ANDROID_EMULATOR_USE_SYSTEM_LIBS
